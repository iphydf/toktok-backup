{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/718/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/718/commits"
        },
        "html": {
            "href": "https://github.com/TokTok/c-toxcore/pull/718"
        },
        "issue": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/issues/718"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/718/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/pulls/718"
        },
        "statuses": {
            "href": "https://api.github.com/repos/TokTok/c-toxcore/statuses/721358208b6650c62aa654be922867f10a5d6f38"
        }
    },
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
        "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
        "followers_url": "https://api.github.com/users/sudden6/followers",
        "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
        "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/sudden6",
        "id": 5585762,
        "login": "sudden6",
        "node_id": "MDQ6VXNlcjU1ODU3NjI=",
        "organizations_url": "https://api.github.com/users/sudden6/orgs",
        "received_events_url": "https://api.github.com/users/sudden6/received_events",
        "repos_url": "https://api.github.com/users/sudden6/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/sudden6"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
            "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
            "followers_url": "https://api.github.com/users/sudden6/followers",
            "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
            "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/sudden6",
            "id": 5585762,
            "login": "sudden6",
            "node_id": "MDQ6VXNlcjU1ODU3NjI=",
            "organizations_url": "https://api.github.com/users/sudden6/orgs",
            "received_events_url": "https://api.github.com/users/sudden6/received_events",
            "repos_url": "https://api.github.com/users/sudden6/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/sudden6"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/8304462?v=4",
            "events_url": "https://api.github.com/users/robinlinden/events{/privacy}",
            "followers_url": "https://api.github.com/users/robinlinden/followers",
            "following_url": "https://api.github.com/users/robinlinden/following{/other_user}",
            "gists_url": "https://api.github.com/users/robinlinden/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/robinlinden",
            "id": 8304462,
            "login": "robinlinden",
            "node_id": "MDQ6VXNlcjgzMDQ0NjI=",
            "organizations_url": "https://api.github.com/users/robinlinden/orgs",
            "received_events_url": "https://api.github.com/users/robinlinden/received_events",
            "repos_url": "https://api.github.com/users/robinlinden/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/robinlinden/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/robinlinden/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/robinlinden"
        },
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/11342054?v=4",
            "events_url": "https://api.github.com/users/jhert0/events{/privacy}",
            "followers_url": "https://api.github.com/users/jhert0/followers",
            "following_url": "https://api.github.com/users/jhert0/following{/other_user}",
            "gists_url": "https://api.github.com/users/jhert0/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jhert0",
            "id": 11342054,
            "login": "jhert0",
            "node_id": "MDQ6VXNlcjExMzQyMDU0",
            "organizations_url": "https://api.github.com/users/jhert0/orgs",
            "received_events_url": "https://api.github.com/users/jhert0/received_events",
            "repos_url": "https://api.github.com/users/jhert0/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jhert0/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jhert0/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jhert0"
        }
    ],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "TokTok:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/TokTok/c-toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/TokTok/c-toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/TokTok/c-toxcore/branches{/branch}",
            "clone_url": "https://github.com/TokTok/c-toxcore.git",
            "collaborators_url": "https://api.github.com/repos/TokTok/c-toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/TokTok/c-toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/TokTok/c-toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/TokTok/c-toxcore/contributors",
            "created_at": "2016-07-06T08:15:22Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/TokTok/c-toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/TokTok/c-toxcore/downloads",
            "events_url": "https://api.github.com/repos/TokTok/c-toxcore/events",
            "fork": true,
            "forks": 283,
            "forks_count": 283,
            "forks_url": "https://api.github.com/repos/TokTok/c-toxcore/forks",
            "full_name": "TokTok/c-toxcore",
            "git_commits_url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/TokTok/c-toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/TokTok/c-toxcore/git/tags{/sha}",
            "git_url": "git://github.com/TokTok/c-toxcore.git",
            "has_discussions": false,
            "has_downloads": false,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://tox.chat",
            "hooks_url": "https://api.github.com/repos/TokTok/c-toxcore/hooks",
            "html_url": "https://github.com/TokTok/c-toxcore",
            "id": 62703642,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/TokTok/c-toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/TokTok/c-toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/TokTok/c-toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/TokTok/c-toxcore/merges",
            "milestones_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "c-toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnk2MjcwMzY0Mg==",
            "notifications_url": "https://api.github.com/repos/TokTok/c-toxcore/notifications{?since,all,participating}",
            "open_issues": 210,
            "open_issues_count": 210,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
                "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
                "followers_url": "https://api.github.com/users/TokTok/followers",
                "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
                "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TokTok",
                "id": 17427091,
                "login": "TokTok",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
                "organizations_url": "https://api.github.com/users/TokTok/orgs",
                "received_events_url": "https://api.github.com/users/TokTok/received_events",
                "repos_url": "https://api.github.com/users/TokTok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/TokTok"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls{/number}",
            "pushed_at": "2024-02-23T16:21:31Z",
            "releases_url": "https://api.github.com/repos/TokTok/c-toxcore/releases{/id}",
            "size": 37461,
            "ssh_url": "git@github.com:TokTok/c-toxcore.git",
            "stargazers_count": 2116,
            "stargazers_url": "https://api.github.com/repos/TokTok/c-toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/TokTok/c-toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/TokTok/c-toxcore/subscription",
            "svn_url": "https://github.com/TokTok/c-toxcore",
            "tags_url": "https://api.github.com/repos/TokTok/c-toxcore/tags",
            "teams_url": "https://api.github.com/repos/TokTok/c-toxcore/teams",
            "topics": [
                "cryptography",
                "encryption",
                "network",
                "p2p",
                "security",
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees{/sha}",
            "updated_at": "2024-02-23T18:58:26Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore",
            "visibility": "public",
            "watchers": 2116,
            "watchers_count": 2116,
            "web_commit_signoff_required": false
        },
        "sha": "0647c2c5bc8c871dbcaed64de40eb252d13d303c",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
            "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
            "followers_url": "https://api.github.com/users/TokTok/followers",
            "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
            "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/TokTok",
            "id": 17427091,
            "login": "TokTok",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
            "organizations_url": "https://api.github.com/users/TokTok/orgs",
            "received_events_url": "https://api.github.com/users/TokTok/received_events",
            "repos_url": "https://api.github.com/users/TokTok/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/TokTok"
        }
    },
    "body": "This change does not include the addition of VP9. We do that in a\r\nseparate pull request.\n\n<!-- Reviewable:start -->\n---\nThis change is [<img src=\"https://reviewable.io/review_button.svg\" height=\"34\" align=\"absmiddle\" alt=\"Reviewable\"/>](https://reviewable.io/reviews/toktok/c-toxcore/718)\n<!-- Reviewable:end -->\n",
    "closed_at": "2018-02-12T10:43:02Z",
    "comment_data": [],
    "comment_regular_data": [
        {
            "author_association": "NONE",
            "body": "[![CLA assistant check](https://cla-assistant.io/pull/badge/signed)](https://cla-assistant.io/TokTok/c-toxcore?pullRequest=718) <br/>All committers have signed the CLA.",
            "created_at": "2018-01-21T18:00:40Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-359267256",
            "id": 359267256,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI2NzI1Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359267256/reactions"
            },
            "updated_at": "2018-02-12T07:06:36Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359267256",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11571300?v=4",
                "events_url": "https://api.github.com/users/CLAassistant/events{/privacy}",
                "followers_url": "https://api.github.com/users/CLAassistant/followers",
                "following_url": "https://api.github.com/users/CLAassistant/following{/other_user}",
                "gists_url": "https://api.github.com/users/CLAassistant/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/CLAassistant",
                "id": 11571300,
                "login": "CLAassistant",
                "node_id": "MDQ6VXNlcjExNTcxMzAw",
                "organizations_url": "https://api.github.com/users/CLAassistant/orgs",
                "received_events_url": "https://api.github.com/users/CLAassistant/received_events",
                "repos_url": "https://api.github.com/users/CLAassistant/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/CLAassistant/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/CLAassistant/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/CLAassistant"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReviewed 8 of 8 files at r1.\nReview status: all files reviewed at latest revision, 13 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 153 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGSWHCWYsVnUZv7ic:-L3PGSWHCWYsVnUZv7id:b7o7zh4) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L153)):*\n> ```C\n>         // if length(31 bits) > 1FFFFFFF then use all bits for length\n>         // and assume its a keyframe (most likely is anyway)\n>         if (LOWER_31_BITS(length_v3) > 0x1FFFFFFF) {\n> ```\n\nCreate a constant for `0x1FFFFFFF`\n\n---\n\n*[toxav/rtp.c, line 263 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGm7FGcEamj8aht_A:-L3PGm7FGcEamj8aht_B:ba4jym4) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L263)):*\n> ```C\n> {\n>     assert(allocate_len >= data_length);\n>     struct RTPMessage *msg = (struct RTPMessage *)calloc(sizeof(struct RTPMessage) +\n> ```\n\nMake sure memory is allocated.\n\n---\n\n*[toxav/rtp.c, line 281 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGq8nUmt7TJ-ZIPy9:-L3PGq8nUmt7TJ-ZIPyA:ba4jym4) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L281)):*\n> ```C\n>         uint32_t offset, uint32_t full_data_length, uint8_t is_keyframe)\n> {\n>     struct RTPMessage *msg = (struct RTPMessage *)calloc(1, sizeof(struct RTPMessage) + allocate_len);\n> ```\n\nMake sure memory is allocated.\n\n---\n\n*[toxav/rtp.c, line 303 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGzv27J1euIXS5ECz:-L3PGzv3HG16u5GDWAkH:b8h0xbm) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L303)):*\n> ```C\n> static void move_slot(struct RTPWorkBufferList *wkbl, int8_t dst_slot, int8_t src_slot)\n> {\n>     memcpy(&(wkbl->work_buffer[dst_slot]), &(wkbl->work_buffer[src_slot]), sizeof(struct RTPWorkBuffer));\n> ```\n\nAdd a check to make sure `dst_slot` isn't larger than `USED_RTP_WORKBUFFER_COUNT`\n\n---\n\n*[toxav/rtp.c, line 443 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PHrUGy7MPcYMPRM25:-L3PHrUGy7MPcYMPRM26:b22c7o) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L443)):*\n> ```C\n> \n>     if (offset_v3 > length_v3) {\n>         LOGGER_ERROR(log, \"memory size too small!\");\n> ```\n\nShouldn't there be a return here or at least changing the offset?\n\n---\n\n*[toxav/rtp.c, line 496 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PIWq5Jyw9KGeWphP_:-L3PIWq5Jyw9KGeWphPa:ba4jym4) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L496)):*\n> ```C\n> \n>     if (session_v3->work_buffer_list == NULL) {\n>         session_v3->work_buffer_list = (struct RTPWorkBufferList *)calloc(1, sizeof(struct RTPWorkBufferList));\n> ```\n\nMake sure memory is allocated.\n\n---\n\n*[toxav/rtp.c, line 541 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJ5uaekZfaNA2eRW8:-L3PJ5ubo5g2MIu5ZSyh:b-ciem2) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L541)):*\n> ```C\n>         }\n> \n>         if (slot == -1) {\n> ```\n\nUse else if\n\n---\n\n*[toxav/rtp.c, line 560 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJ80PmrlGX4rTavd_:-L3PJ80PmrlGX4rTavda:b-xr2ckt) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L560)):*\n> ```C\n> \n>             if (slot == -2) {\n>                 free(m_new);\n> ```\n\nPossible double free or freeing a NULL pointer.\n\n---\n\n*[toxav/rtp.c, line 602 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJZYISUP-i87d4Wky:-L3PJZYISUP-i87d4Wkz:b-ciem2) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L602)):*\n> ```C\n>         }\n> \n>         if (slot == -1) {\n> ```\n\nUse else if\n\n---\n\n*[toxav/rtp.c, line 621 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJaJlVZlM8CPx5k6v:-L3PJaJlVZlM8CPx5k6w:b-xr2ckt) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L621)):*\n> ```C\n> \n>             if (slot == -2) {\n>                 free(m_new);\n> ```\n\nPossible double free or freeing a NULL pointer.\n\n---\n\n*[toxav/rtp.c, line 627 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJdDNOGFXpRNRhN8A:-L3PJdDNOGFXpRNRhN8B:b-ciem2) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/rtp.c#L627)):*\n> ```C\n>         }\n> \n>         if (slot > -1) {\n> ```\n\nUse else if\n\n---\n\n*[toxav/video.c, line 371 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PKNhJwZsMKevtT2YS:-L3PKNhJwZsMKevtT2YT:b-lh68ha) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/video.c#L371)):*\n> ```C\n>             (uint8_t)header_v3->pt == (rtp_TypeVideo % 128)) {\n>         LOGGER_DEBUG(vc->log, \"rb_write msg->len=%d b0=%d b1=%d\", (int)msg->len, (int)msg->data[0], (int)msg->data[1]);\n>         free(rb_write((RingBuffer *)vc->vbuf_raw, msg));\n> ```\n\nrb_write can return NULL.\n\n---\n\n*[toxav/video.c, line 373 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PKPn6XqyNbQfCkLqU:-L3PKPn6XqyNbQfCkLqV:b-lh68ha) ([raw file](https://github.com/toktok/c-toxcore/blob/d02053a7ef93cfd56aa41bb09c65260d1d16d17f/toxav/video.c#L373)):*\n> ```C\n>         free(rb_write((RingBuffer *)vc->vbuf_raw, msg));\n>     } else {\n>         free(rb_write((RingBuffer *)vc->vbuf_raw, msg));\n> ```\n\nrb_write can return NULL.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-01-21T20:08:14Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-359276536",
            "id": 359276536,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI3NjUzNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359276536/reactions"
            },
            "updated_at": "2018-01-21T20:08:14Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359276536",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11342054?v=4",
                "events_url": "https://api.github.com/users/jhert0/events{/privacy}",
                "followers_url": "https://api.github.com/users/jhert0/followers",
                "following_url": "https://api.github.com/users/jhert0/following{/other_user}",
                "gists_url": "https://api.github.com/users/jhert0/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jhert0",
                "id": 11342054,
                "login": "jhert0",
                "node_id": "MDQ6VXNlcjExMzQyMDU0",
                "organizations_url": "https://api.github.com/users/jhert0/orgs",
                "received_events_url": "https://api.github.com/users/jhert0/received_events",
                "repos_url": "https://api.github.com/users/jhert0/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jhert0/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jhert0/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jhert0"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "changes:\r\n- fix the video bug (video frames larger than 65KBytes) by sending full frame length in alternate header field\r\n- improve video frame reconstruction logic with slots\r\n- configure video encoder and decoder to be multihtreaded\r\n- set error resilience flags on video codec\r\n- change encoder and decoder softdeadline",
            "created_at": "2018-01-21T20:52:03Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-359279866",
            "id": 359279866,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI3OTg2Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359279866/reactions"
            },
            "updated_at": "2018-01-21T20:52:03Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359279866",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6833516?v=4",
                "events_url": "https://api.github.com/users/zoff99/events{/privacy}",
                "followers_url": "https://api.github.com/users/zoff99/followers",
                "following_url": "https://api.github.com/users/zoff99/following{/other_user}",
                "gists_url": "https://api.github.com/users/zoff99/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zoff99",
                "id": 6833516,
                "login": "zoff99",
                "node_id": "MDQ6VXNlcjY4MzM1MTY=",
                "organizations_url": "https://api.github.com/users/zoff99/orgs",
                "received_events_url": "https://api.github.com/users/zoff99/received_events",
                "repos_url": "https://api.github.com/users/zoff99/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zoff99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zoff99/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zoff99"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 7 of 8 files reviewed at latest revision, 13 unresolved discussions, some commit checks failed.\n\n---\n\n*[toxav/rtp.c, line 153 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGSWHCWYsVnUZv7ic:-L3PZihu37zehYMgQD2H:bgu3lc3) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L153)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nCreate a constant for `0x1FFFFFFF`\n</blockquote></details>\n\n@zoff99 what should we call it?\n\n---\n\n*[toxav/rtp.c, line 263 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGm7FGcEamj8aht_A:-L3PSy9vK6diLWhPFpCx:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L263)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nMake sure memory is allocated.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 281 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGq8nUmt7TJ-ZIPy9:-L3PSz4dafa6SrfkV-P2:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L281)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nMake sure memory is allocated.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 303 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGzv27J1euIXS5ECz:-L3PT_XCBN3eXMC9dGxf:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L303)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nAdd a check to make sure `dst_slot` isn't larger than `USED_RTP_WORKBUFFER_COUNT`\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 443 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PHrUGy7MPcYMPRM25:-L3PTei3_yZpJ__hOCla:b-3qafbm) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L443)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nShouldn't there be a return here or at least changing the offset?\n</blockquote></details>\n\n@zoff99 what should we do when this happens?\n\n---\n\n*[toxav/rtp.c, line 496 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PIWq5Jyw9KGeWphP_:-L3PTsUzyGiv5Br2nZIH:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L496)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nMake sure memory is allocated.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 541 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJ5uaekZfaNA2eRW8:-L3PZB3UWLnben9np_JA:b-rba4m6) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L541)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nUse else if\n</blockquote></details>\n\nNo need, there is a return in the previous one.\n\n---\n\n*[toxav/rtp.c, line 560 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJ80PmrlGX4rTavd_:-L3PUG4Tdy95C7x_Jyy_:b84z8tr) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L560)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nPossible double free or freeing a NULL pointer.\n</blockquote></details>\n\nfree(NULL) is fine. How does a double free happen?\n\n---\n\n*[toxav/rtp.c, line 602 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJZYISUP-i87d4Wky:-L3PZIxl_RC2ikfWVwf9:b-q64pkt) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L602)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nUse else if\n</blockquote></details>\n\nSee above.\n\n---\n\n*[toxav/rtp.c, line 621 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJaJlVZlM8CPx5k6v:-L3PZK8AH3o8VpBhve-Y:b-q64pkt) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L621)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nPossible double free or freeing a NULL pointer.\n</blockquote></details>\n\nSee above.\n\n---\n\n*[toxav/rtp.c, line 627 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJdDNOGFXpRNRhN8A:-L3PZQDvXHgV0byr_TE4:b-th0u0v) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/rtp.c#L627)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nUse else if\n</blockquote></details>\n\nThat would change the semantics.\n\n---\n\n*[toxav/video.c, line 371 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PKNhJwZsMKevtT2YS:-L3PZUV1eKrRMSXBEeH4:b-6tzuww) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/video.c#L371)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nrb_write can return NULL.\n</blockquote></details>\n\nfree(NULL) is safe.\n\n---\n\n*[toxav/video.c, line 373 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PKPn6XqyNbQfCkLqU:-L3PZWILZcAqJK7_Xw1D:b-6tzuww) ([raw file](https://github.com/toktok/c-toxcore/blob/04209ad5d0ee0db9897d6020e81d66a39fb7c00b/toxav/video.c#L373)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nrb_write can return NULL.\n</blockquote></details>\n\nfree(NULL) is safe.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-01-21T21:15:00Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-359281578",
            "id": 359281578,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI4MTU3OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359281578/reactions"
            },
            "updated_at": "2018-01-21T21:15:00Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359281578",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReviewed 1 of 1 files at r2.\nReview status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks failed.\n\n---\n\n*[toxav/rtp.c, line 560 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJ80PmrlGX4rTavd_:-L3Pz1mEyL_hKU8ucpuQ:b-n7fp7k) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L560)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nfree(NULL) is fine. How does a double free happen?\n</blockquote></details>\n\nI'm not sure how likely it is and maybe its not but if m_new is not NULL and session->mcb is m_new is freed. Then slot is updated and if its -2 m_new is freed. \n\n---\n\n*[toxav/rtp.c, line 621 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJaJlVZlM8CPx5k6v:-L3Q-TT6hKK_Nnke2NvY:bnj7hl0) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L621)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nSee above.\n</blockquote></details>\n\nsame as above\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-01-21T23:16:27Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-359290556",
            "id": 359290556,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM1OTI5MDU1Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359290556/reactions"
            },
            "updated_at": "2018-01-21T23:16:27Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/359290556",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11342054?v=4",
                "events_url": "https://api.github.com/users/jhert0/events{/privacy}",
                "followers_url": "https://api.github.com/users/jhert0/followers",
                "following_url": "https://api.github.com/users/jhert0/following{/other_user}",
                "gists_url": "https://api.github.com/users/jhert0/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jhert0",
                "id": 11342054,
                "login": "jhert0",
                "node_id": "MDQ6VXNlcjExMzQyMDU0",
                "organizations_url": "https://api.github.com/users/jhert0/orgs",
                "received_events_url": "https://api.github.com/users/jhert0/received_events",
                "repos_url": "https://api.github.com/users/jhert0/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jhert0/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jhert0/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jhert0"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 7 of 8 files reviewed at latest revision, 4 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 560 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/718#-L3PJ80PmrlGX4rTavd_:-L3dFrkS25fxqvx2pGdE:b-kt0vkx) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L560)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nI'm not sure how likely it is and maybe its not but if m_new is not NULL and session->mcb is m_new is freed. Then slot is updated and if its -2 m_new is freed. \n</blockquote></details>\n\nThat doesn't seem correct. But more interestingly, m_new should always be null here:\n- If m_new is null and slot is -2, it's free(null).\n- If m_new is not null, then regardless of session->mcb, it is set to null, so this is free(null).\n\nIt's always free(null). @zoff99 can you look into this?\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-01-24T17:45:06Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-360215696",
            "id": 360215696,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDIxNTY5Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/360215696/reactions"
            },
            "updated_at": "2018-01-24T17:45:06Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/360215696",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 7 of 8 files reviewed at latest revision, 4 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 621 at r1](https://beta.reviewable.io/reviews/toktok/c-toxcore/718#-L3PJaJlVZlM8CPx5k6v:-L3dGWLA2Z1nt7190nzu:b-816h6l) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L621)):*\n<details><summary><i>Previously, endoffile78 (Endoffile) wrote…</i></summary><blockquote>\n\nsame as above\n</blockquote></details>\n\nSame.\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-01-24T17:45:21Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-360215774",
            "id": 360215774,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MDIxNTc3NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/360215774/reactions"
            },
            "updated_at": "2018-01-24T17:45:21Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/360215774",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReviewed 1 of 8 files at r1, 1 of 3 files at r3.\nReview status: 6 of 8 files reviewed at latest revision, 9 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 352 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3Y_CXj55UqDuXXstFv:-L3Y_CXkDFrxMjZ14r7E:br8uo26) ([raw file](https://github.com/toktok/c-toxcore/blob/7f09b83600752fe67464654d8dd4a42a7865537c/toxav/rtp.c#L352)):*\n> ```C\n>     }\n> \n>     if (wkbl->work_buffer[0].frame_type == video_frame_type_KEYFRAME) {\n> ```\n\nchain with `&&` instead of nested ifs\n\n---\n\n*[toxav/rtp.c, line 374 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tFT7nDyUIR13WYqrw:-L3tFT7okvXiBL7M4RuU:b-qi05k9) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/rtp.c#L374)):*\n> ```C\n> static struct RTPMessage *process_oldest_frame(Logger *log, struct RTPWorkBufferList *wkbl)\n> {\n>     if (wkbl->next_free_entry > 0) {\n> ```\n\nreverse condition and use early return\n\n---\n\n*[toxav/rtp.c, line 413 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tFadBXsRMJXiEJPCU:-L3tFadBXsRMJXiEJPCV:b-j2o8br) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/rtp.c#L413)):*\n> ```C\n>     if (slot == (wkbl->next_free_entry - 1)) {\n>         memset(&(wkbl->work_buffer[slot]), 0, sizeof(struct RTPWorkBuffer));\n>         wkbl->next_free_entry--;\n> ```\n\nthis line is the the same in both branches, move outside conditional\n\n---\n\n*[toxav/toxav.c, line 885 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tGrSBevwvPT4kdkjQ:-L3tGrSBevwvPT4kdkjR:b-rwvxb3) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/toxav.c#L885)):*\n> ```C\n>                 uint32_t frame_length_in_bytes = pkt->data.frame.sz;\n> \n>                 if (LOWER_31_BITS(frame_length_in_bytes) > 0x1FFFFFFF) {\n> ```\n\ninvert condition so there isn't an empty `if` path\n\n---\n\n*[toxav/video.c, line 371 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tHqXlHzQxJhZLS0fO:-L3tHqXmZF-lFApsY0C7:b-b5rcwx) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/video.c#L371)):*\n> ```C\n>             (uint8_t)header_v3->pt == (rtp_TypeVideo % 128)) {\n>         LOGGER_DEBUG(vc->log, \"rb_write msg->len=%d b0=%d b1=%d\", (int)msg->len, (int)msg->data[0], (int)msg->data[1]);\n>         free(rb_write((RingBuffer *)vc->vbuf_raw, msg));\n> ```\n\nsame line in both branches, move out of conditional\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-01-27T20:26:20Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-361012791",
            "id": 361012791,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTAxMjc5MQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/361012791/reactions"
            },
            "updated_at": "2018-01-27T20:26:20Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/361012791",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 5 of 8 files reviewed at latest revision, 9 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 352 at r2](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3Y_CXj55UqDuXXstFv:-L45KhdmpoyPqOi9uugI:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/7f09b83600752fe67464654d8dd4a42a7865537c/toxav/rtp.c#L352)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nchain with `&&` instead of nested ifs\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 374 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tFT7nDyUIR13WYqrw:-L45KicS8aHK672Mg8yD:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/rtp.c#L374)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nreverse condition and use early return\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 413 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tFadBXsRMJXiEJPCU:-L45KpPnBQGHcBg00bkP:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/rtp.c#L413)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nthis line is the the same in both branches, move outside conditional\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/toxav.c, line 885 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tGrSBevwvPT4kdkjQ:-L45L4aEBo9znQsjbASc:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/toxav.c#L885)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\ninvert condition so there isn't an empty `if` path\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/video.c, line 371 at r3](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3tHqXlHzQxJhZLS0fO:-L45ML0SOaeHMYBiBA5y:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/6d6bb9687fef1ac01987a6a74dbb0e6037c0c7de/toxav/video.c#L371)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nsame line in both branches, move out of conditional\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-01-30T09:19:43Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-361527840",
            "id": 361527840,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MTUyNzg0MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/361527840/reactions"
            },
            "updated_at": "2018-01-30T09:19:43Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/361527840",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReviewed 1 of 8 files at r1, 2 of 5 files at r4.\nReview status: 3 of 8 files reviewed at latest revision, 6 unresolved discussions.\n\n---\n\n*[toxav/bwcontroller.c, line 135 at r5](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4LhVyUh13NoaEaug9m:-L4LhVyVK9_LUCP2zKMv:b-2mlv2c) ([raw file](https://github.com/toktok/c-toxcore/blob/292fbc2fd98dcf8fc9f01a18cf3a1dc2b82a4821/toxav/bwcontroller.c#L135)):*\n> ```C\n> {\n>     if (bwc->packet_loss_counted_cycles > BWC_AVG_LOSS_OVER_CYCLES_COUNT) {\n>         if (current_time_monotonic() - bwc->cycle.last_sent_timestamp > BWC_SEND_INTERVAL_MS) {\n> ```\n\nI think these two if's can be joined by `&&` instead of nesting\n\n---\n\n*[toxav/rtp.c, line 308 at r5](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4Li0OqRU65wEmgOtVN:-L4Li0OqRU65wEmgOtVO:bljsygd) ([raw file](https://github.com/toktok/c-toxcore/blob/292fbc2fd98dcf8fc9f01a18cf3a1dc2b82a4821/toxav/rtp.c#L308)):*\n> ```C\n>     }\n> \n>     return false;\n> ```\n\nearly return?\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-02T13:34:22Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-362587585",
            "id": 362587585,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjU4NzU4NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362587585/reactions"
            },
            "updated_at": "2018-02-02T13:34:22Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362587585",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 0 of 12 files reviewed at latest revision, 6 unresolved discussions.\n\n---\n\n*[toxav/bwcontroller.c, line 135 at r5](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4LhVyUh13NoaEaug9m:-L4MENh1SYFmSYMB99Gg:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/292fbc2fd98dcf8fc9f01a18cf3a1dc2b82a4821/toxav/bwcontroller.c#L135)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nI think these two if's can be joined by `&&` instead of nesting\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 308 at r5](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4Li0OqRU65wEmgOtVN:-L4MEguh3rGDoj2Z0lwG:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/292fbc2fd98dcf8fc9f01a18cf3a1dc2b82a4821/toxav/rtp.c#L308)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nearly return?\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-02T15:59:52Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-362626168",
            "id": 362626168,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjYyNjE2OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362626168/reactions"
            },
            "updated_at": "2018-02-02T15:59:52Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362626168",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReviewed 4 of 8 files at r7.\nReview status: 4 of 13 files reviewed at latest revision, 9 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 612 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MlRMGGXCw09Gtvc0T:-L4MlRMH1PPNaZ7306M4:b-mgdxii) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L612)):*\n> ```C\n>             }\n> \n>             m_new = nullptr;\n> ```\n\ncould there be a ressource leak when `m_new == true` and `session->mcb == true`? because then `m_new` is set to `nullptr` in this line. Or are there other references to `m_new` that are then freed?\n\n---\n\n*[toxav/rtp.c, line 630 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmEQFQngHWp4aeGBF:-L4MmEQG3P51pRTrY4hT:boph1sk) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L630)):*\n> ```C\n>                                  offset_v3, data, length);\n> \n>         //if ((frame_complete == 1) && is_keyframe)\n> ```\n\ndead comments?\n\n---\n\n*[toxav/rtp.c, line 645 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmMyKG67agDeZgS2c:-L4MmMyKG67agDeZgS2d:b-kqd918) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L645)):*\n> ```C\n>                 }\n> \n>                 m_new = nullptr;\n> ```\n\nsame possible resource leak?\n\n---\n\n*[toxav/video.c, line 301 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmmJ8CjcXVsIw6UjR:-L4MmmJ8CjcXVsIw6UjS:b-9gaxv) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/video.c#L301)):*\n> ```C\n>         const struct RTPHeader *header_v3 = &p->header;\n> \n>         if ((uint8_t)((header_v3->flags & RTP_LARGE_FRAME) != 0)) {\n> ```\n\n`!= 0` isn't really needed IMO, but more important the cast is not needed and possibly confusing.\n\n---\n\n*[toxav/video.c, line 367 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MnkpqrnHdiMwLyheH:-L4MnkprJlHYJn07eUIO:bb7od0r) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/video.c#L367)):*\n> ```C\n>     pthread_mutex_lock(vc->queue_mutex);\n> \n>     if ((uint8_t)((header_v3->flags & RTP_LARGE_FRAME) != 0) &&\n> ```\n\nsame\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-02T18:38:05Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-362668598",
            "id": 362668598,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MjY2ODU5OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362668598/reactions"
            },
            "updated_at": "2018-02-02T18:38:05Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362668598",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 4 of 13 files reviewed at latest revision, 9 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 612 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MlRMGGXCw09Gtvc0T:-L4Nts5mmok3871hloCx:b-kxnmol) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L612)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\ncould there be a ressource leak when `m_new == true` and `session->mcb == true`? because then `m_new` is set to `nullptr` in this line. Or are there other references to `m_new` that are then freed?\n</blockquote></details>\n\nIt's either freed or passed to the callback mcb. The mcb callback becomes either a video or audio queue function, which either frees it or puts it into a jitter buffer (omg str8c, no unique_ptrs :().\n\n---\n\n*[toxav/rtp.c, line 630 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmEQFQngHWp4aeGBF:-L4NsU7QTGnY8MA2LtdX:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L630)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\ndead comments?\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 645 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmMyKG67agDeZgS2c:-L4NuO-ODv5dnNlCZVQ0:b1xq76o) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L645)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nsame possible resource leak?\n</blockquote></details>\n\nSame. I've only looked for 3 minutes, but it seems ok.\n\n---\n\n*[toxav/video.c, line 301 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmmJ8CjcXVsIw6UjR:-L4NsrGlRniCCORiuB6Y:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/video.c#L301)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\n`!= 0` isn't really needed IMO, but more important the cast is not needed and possibly confusing.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/video.c, line 367 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MnkpqrnHdiMwLyheH:-L4Nsrx-cSVWxccHTakS:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/video.c#L367)):*\n<details><summary><i>Previously, sudden6 wrote…</i></summary><blockquote>\n\nsame\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-02T23:46:09Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-362743174",
            "id": 362743174,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2Mjc0MzE3NA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362743174/reactions"
            },
            "updated_at": "2018-02-02T23:46:09Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/362743174",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: 0 of 18 files reviewed at latest revision, 9 unresolved discussions.\n\n---\n\n*[toxav/rtp.c, line 153 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PGSWHCWYsVnUZv7ic:-L4fsx3Sj1AK1cLIKxj8:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L153)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\n@zoff99 what should we call it?\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 443 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PHrUGy7MPcYMPRM25:-L4fsjqZzjJUSRlG0rB_:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L443)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\n@zoff99 what should we do when this happens?\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 560 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJ80PmrlGX4rTavd_:-L4fskIihy0OXHVDA6Cn:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L560)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nThat doesn't seem correct. But more interestingly, m_new should always be null here:\n- If m_new is null and slot is -2, it's free(null).\n- If m_new is not null, then regardless of session->mcb, it is set to null, so this is free(null).\n\nIt's always free(null). @zoff99 can you look into this?\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 621 at r1](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L3PJaJlVZlM8CPx5k6v:-L4fslRPdZvY_fAIGqy6:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/d8121f89e1b054733a79e4c18c46ff4452d80ce5/toxav/rtp.c#L621)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nSame.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 612 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MlRMGGXCw09Gtvc0T:-L4fsly8HCiteQHG__7U:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L612)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nIt's either freed or passed to the callback mcb. The mcb callback becomes either a video or audio queue function, which either frees it or puts it into a jitter buffer (omg str8c, no unique_ptrs :().\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 630 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmEQFQngHWp4aeGBF:-L4fsmLLzg05QS8q5-01:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L630)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nDone.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 645 at r7](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L4MmMyKG67agDeZgS2c:-L4fsn1hU7yKnYTF7TuK:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/586e89f932cb7c83e03da4cfce2166d96259e93d/toxav/rtp.c#L645)):*\n<details><summary><i>Previously, iphydf wrote…</i></summary><blockquote>\n\nSame. I've only looked for 3 minutes, but it seems ok.\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-06T16:12:36Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-363473485",
            "id": 363473485,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzQ3MzQ4NQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/363473485/reactions"
            },
            "updated_at": "2018-02-06T16:12:36Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/363473485",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "<img class=\"emoji\" title=\":lgtm_strong:\" alt=\":lgtm_strong:\" align=\"absmiddle\" src=\"https://reviewable.io/lgtm_strong.png\" height=\"20\" width=\"61\"/>\n\n---\n\nReviewed 1 of 13 files at r6, 5 of 19 files at r10, 4 of 14 files at r12, 8 of 8 files at r13.\nReview status: all files reviewed at latest revision, 4 unresolved discussions.\n\n---\n\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-:-L4hYRe_JbqDpeQ_5o4x:b-jbsf8z)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-06T23:57:48Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-363607627",
            "id": 363607627,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2MzYwNzYyNw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/363607627/reactions"
            },
            "updated_at": "2018-02-06T23:57:48Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/363607627",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/5585762?v=4",
                "events_url": "https://api.github.com/users/sudden6/events{/privacy}",
                "followers_url": "https://api.github.com/users/sudden6/followers",
                "following_url": "https://api.github.com/users/sudden6/following{/other_user}",
                "gists_url": "https://api.github.com/users/sudden6/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/sudden6",
                "id": 5585762,
                "login": "sudden6",
                "node_id": "MDQ6VXNlcjU1ODU3NjI=",
                "organizations_url": "https://api.github.com/users/sudden6/orgs",
                "received_events_url": "https://api.github.com/users/sudden6/received_events",
                "repos_url": "https://api.github.com/users/sudden6/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/sudden6/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/sudden6/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/sudden6"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@robinlinden, @endoffile78: this is ready for another round of review.",
            "created_at": "2018-02-08T17:34:33Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-364188579",
            "id": 364188579,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDE4ODU3OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364188579/reactions"
            },
            "updated_at": "2018-02-08T17:34:33Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364188579",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "<img class=\"emoji\" title=\":lgtm_strong:\" alt=\":lgtm_strong:\" align=\"absmiddle\" src=\"https://reviewable.io/lgtm_strong.png\" height=\"20\" width=\"61\"/>\n\n---\n\nReviewed 8 of 8 files at r13.\nReview status: all files reviewed at latest revision, all discussions resolved, some commit checks failed.\n\n---\n\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-:-L54Xd2qOjySo_6-MgGU:b-jbsf8z)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-11T15:45:10Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-364761090",
            "id": 364761090,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDc2MTA5MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364761090/reactions"
            },
            "updated_at": "2018-02-11T15:45:10Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364761090",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/11342054?v=4",
                "events_url": "https://api.github.com/users/jhert0/events{/privacy}",
                "followers_url": "https://api.github.com/users/jhert0/followers",
                "following_url": "https://api.github.com/users/jhert0/following{/other_user}",
                "gists_url": "https://api.github.com/users/jhert0/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/jhert0",
                "id": 11342054,
                "login": "jhert0",
                "node_id": "MDQ6VXNlcjExMzQyMDU0",
                "organizations_url": "https://api.github.com/users/jhert0/orgs",
                "received_events_url": "https://api.github.com/users/jhert0/received_events",
                "repos_url": "https://api.github.com/users/jhert0/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/jhert0/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/jhert0/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/jhert0"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "<img class=\"emoji\" title=\":lgtm_strong:\" alt=\":lgtm_strong:\" align=\"absmiddle\" src=\"https://reviewable.io/lgtm_strong.png\" height=\"20\" width=\"61\"/>\n\n---\n\nReviewed 4 of 13 files at r6, 1 of 9 files at r9, 4 of 19 files at r10, 1 of 9 files at r11, 7 of 8 files at r13, 1 of 2 files at r15, 1 of 3 files at r16, 2 of 2 files at r17.\nReview status: all files reviewed at latest revision, all discussions resolved.\n\n---\n\n*[toxav/rtp.c, line 49 at r17](https://beta.reviewable.io/reviews/toktok/c-toxcore/718#-L55rZ-c4E6SDde3fryh:-L55rZ-c4E6SDde3fryi:b-kc2thw) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L49)):*\n> ```C\n> {\n>     assert(allocate_len >= data_length);\n>     struct RTPMessage *msg = (struct RTPMessage *)calloc(sizeof(struct RTPMessage) + allocate_len, 1);\n> ```\n\ncalloc generally takes num, size as arguments. This looks weird even if it does the same allocation.\n\n---\n\n*[toxav/rtp.c, line 300 at r17](https://beta.reviewable.io/reviews/toktok/c-toxcore/718#-L55rtzeCa6rx7NlzkAN:-L55rtzeCa6rx7NlzkAO:b-urh1z1) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L300)):*\n> ```C\n>     // frame data array.\n>     memcpy(\n>         (slot->buf->data + header->offset_full),\n> ```\n\nUnnecessary parentheses.\n\n---\n\n*[toxav/rtp.c, line 311 at r17](https://beta.reviewable.io/reviews/toktok/c-toxcore/718#-L55s1lL4QL3TwARmQ1P:-L55s1lL4QL3TwARmQ1Q:b-urh1z1) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L311)):*\n> ```C\n>     slot->buf->header.received_length_full = slot->received_len;\n> \n>     return (slot->received_len == header->data_length_full);\n> ```\n\nUnnecessary parentheses.\n\n---\n\n*[toxav/rtp.c, line 367 at r17](https://beta.reviewable.io/reviews/toktok/c-toxcore/718#-L55vaI6B6W5llbaSAde:-L55sLhg893Jn5YqNeKQ:b-urh1z1) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L367)):*\n> ```C\n>     LOGGER_DEBUG(log, \"wkbl->next_free_entry:003=%d\", session->work_buffer_list->next_free_entry);\n> \n>     const bool is_multipart = (full_frame_length != incoming_data_length);\n> ```\n\nUnnecessary parentheses.\n\n---\n\n\n*Comments from [Reviewable](https://beta.reviewable.io/reviews/toktok/c-toxcore/718#-:-L55vkab8OSFnlJbOhuM:b-jbsf8z)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-11T22:15:37Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-364794511",
            "id": 364794511,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDc5NDUxMQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364794511/reactions"
            },
            "updated_at": "2018-02-11T22:15:37Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364794511",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/8304462?v=4",
                "events_url": "https://api.github.com/users/robinlinden/events{/privacy}",
                "followers_url": "https://api.github.com/users/robinlinden/followers",
                "following_url": "https://api.github.com/users/robinlinden/following{/other_user}",
                "gists_url": "https://api.github.com/users/robinlinden/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/robinlinden",
                "id": 8304462,
                "login": "robinlinden",
                "node_id": "MDQ6VXNlcjgzMDQ0NjI=",
                "organizations_url": "https://api.github.com/users/robinlinden/orgs",
                "received_events_url": "https://api.github.com/users/robinlinden/received_events",
                "repos_url": "https://api.github.com/users/robinlinden/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/robinlinden/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/robinlinden/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/robinlinden"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "\n\n\n\nReview status: all files reviewed at latest revision, 4 unresolved discussions, some commit checks pending.\n\n---\n\n*[toxav/rtp.c, line 49 at r17](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L55rZ-c4E6SDde3fryh:-L56CGEDhSoQDEXdHbDj:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L49)):*\n<details><summary><i>Previously, robinlinden (Robin Lindén) wrote…</i></summary><blockquote>\n\ncalloc generally takes num, size as arguments. This looks weird even if it does the same allocation.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 300 at r17](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L55rtzeCa6rx7NlzkAN:-L56CJsLqZU8IcfquFNG:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L300)):*\n<details><summary><i>Previously, robinlinden (Robin Lindén) wrote…</i></summary><blockquote>\n\nUnnecessary parentheses.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 311 at r17](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L55s1lL4QL3TwARmQ1P:-L56CMiLrzII_uCPfjnV:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L311)):*\n<details><summary><i>Previously, robinlinden (Robin Lindén) wrote…</i></summary><blockquote>\n\nUnnecessary parentheses.\n</blockquote></details>\n\nDone.\n\n---\n\n*[toxav/rtp.c, line 367 at r17](https://reviewable.io:443/reviews/toktok/c-toxcore/718#-L55vaI6B6W5llbaSAde:-L56CTHJqKYQY7OnPpgW:b-896fix) ([raw file](https://github.com/toktok/c-toxcore/blob/9fcd703812bb166abdbe2ff6c8b404d1c7e7d308/toxav/rtp.c#L367)):*\n<details><summary><i>Previously, robinlinden (Robin Lindén) wrote…</i></summary><blockquote>\n\nUnnecessary parentheses.\n</blockquote></details>\n\nDone.\n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/toktok/c-toxcore/718)*\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2018-02-11T23:31:54Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-364800813",
            "id": 364800813,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDgwMDgxMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364800813/reactions"
            },
            "updated_at": "2018-02-11T23:31:54Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364800813",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@robinlinden @iphydf \r\n*Unnecessary parentheses*\r\ni wished for those, for easier reading.",
            "created_at": "2018-02-12T07:07:32Z",
            "html_url": "https://github.com/TokTok/c-toxcore/pull/718#issuecomment-364842350",
            "id": 364842350,
            "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
            "node_id": "MDEyOklzc3VlQ29tbWVudDM2NDg0MjM1MA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364842350/reactions"
            },
            "updated_at": "2018-02-12T07:07:44Z",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/issues/comments/364842350",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6833516?v=4",
                "events_url": "https://api.github.com/users/zoff99/events{/privacy}",
                "followers_url": "https://api.github.com/users/zoff99/followers",
                "following_url": "https://api.github.com/users/zoff99/following{/other_user}",
                "gists_url": "https://api.github.com/users/zoff99/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zoff99",
                "id": 6833516,
                "login": "zoff99",
                "node_id": "MDQ6VXNlcjY4MzM1MTY=",
                "organizations_url": "https://api.github.com/users/zoff99/orgs",
                "received_events_url": "https://api.github.com/users/zoff99/received_events",
                "repos_url": "https://api.github.com/users/zoff99/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zoff99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zoff99/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zoff99"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/6833516?v=4",
                "events_url": "https://api.github.com/users/zoff99/events{/privacy}",
                "followers_url": "https://api.github.com/users/zoff99/followers",
                "following_url": "https://api.github.com/users/zoff99/following{/other_user}",
                "gists_url": "https://api.github.com/users/zoff99/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zoff99",
                "id": 6833516,
                "login": "zoff99",
                "node_id": "MDQ6VXNlcjY4MzM1MTY=",
                "organizations_url": "https://api.github.com/users/zoff99/orgs",
                "received_events_url": "https://api.github.com/users/zoff99/received_events",
                "repos_url": "https://api.github.com/users/zoff99/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zoff99/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zoff99/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zoff99"
            },
            "comments_url": "https://api.github.com/repos/TokTok/c-toxcore/commits/721358208b6650c62aa654be922867f10a5d6f38/comments",
            "commit": {
                "author": {
                    "date": "2018-01-19T21:59:42Z",
                    "email": "zoff@zoff.cc",
                    "name": "zoff99"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2018-02-11T23:31:46Z",
                    "email": "iphydf@users.noreply.github.com",
                    "name": "iphydf"
                },
                "message": "Improve video key frame sending.\n\nThis change does not include the addition of VP9. We do that in a\nseparate pull request.\n\nChanges:\n\n* fix the video bug (video frames larger than 65KBytes) by sending full\n  frame length in alternate header field\n* improve video frame reconstruction logic with slots\n* configure video encoder and decoder to be multihtreaded\n* set error resilience flags on video codec\n* change encoder and decoder softdeadline",
                "tree": {
                    "sha": "988aef376cc8c74b19b5e605133072bdf3d23e27",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/git/trees/988aef376cc8c74b19b5e605133072bdf3d23e27"
                },
                "url": "https://api.github.com/repos/TokTok/c-toxcore/git/commits/721358208b6650c62aa654be922867f10a5d6f38",
                "verification": {
                    "payload": "tree 988aef376cc8c74b19b5e605133072bdf3d23e27\nparent 0647c2c5bc8c871dbcaed64de40eb252d13d303c\nauthor zoff99 <zoff@zoff.cc> 1516399182 +0100\ncommitter iphydf <iphydf@users.noreply.github.com> 1518391906 +0000\n\nImprove video key frame sending.\n\nThis change does not include the addition of VP9. We do that in a\nseparate pull request.\n\nChanges:\n\n* fix the video bug (video frames larger than 65KBytes) by sending full\n  frame length in alternate header field\n* improve video frame reconstruction logic with slots\n* configure video encoder and decoder to be multihtreaded\n* set error resilience flags on video codec\n* change encoder and decoder softdeadline\n",
                    "reason": "valid",
                    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQEzBAABCAAdFiEEqQ4tlxH906HdaIgsOFXbotdEA8kFAlqA0mIACgkQOFXbotdE\nA8lEAAf/YKXJEsNbc8IN5Y4h7FjkYnKc+WJ3boXBtN0ZD7f4L1PVClfA9hR9s4Ci\n4gLWfHgIiXbjFPND5JyhhtuxtfhLW94Tj3Pkji1eNF2tIogdkNCUbaxKg2UXb4R0\nvb3veZ/VMLEfiv4gdcDm3RRi62PRjKUEU0fOBREZQsGFBIrXlDOgPDx7i+Eohd8B\nGjTvMULegCLNVOV1vCNpDlPDsEIzm1TAfZt5pWD1InO/Krs9bNw7PeZkhp/SjLeQ\nOhD9d2uPtWt0o6yFGEw2ysije44rogoZCjOz2CmVGJQlNTAcNFN5lHHwxZ2rUO7l\n+OoHaVY5o3HKtqa4R7+gNNN475EwjA==\n=X7Ga\n-----END PGP SIGNATURE-----",
                    "verified": true
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            },
            "html_url": "https://github.com/TokTok/c-toxcore/commit/721358208b6650c62aa654be922867f10a5d6f38",
            "node_id": "MDY6Q29tbWl0NjI3MTY4NjY6NzIxMzU4MjA4YjY2NTBjNjJhYTY1NGJlOTIyODY3ZjEwYTVkNmYzOA==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/c-toxcore/commit/0647c2c5bc8c871dbcaed64de40eb252d13d303c",
                    "sha": "0647c2c5bc8c871dbcaed64de40eb252d13d303c",
                    "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/0647c2c5bc8c871dbcaed64de40eb252d13d303c"
                }
            ],
            "sha": "721358208b6650c62aa654be922867f10a5d6f38",
            "url": "https://api.github.com/repos/TokTok/c-toxcore/commits/721358208b6650c62aa654be922867f10a5d6f38"
        }
    ],
    "commits_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/718/commits",
    "created_at": "2018-01-21T18:00:33Z",
    "diff_url": "https://github.com/TokTok/c-toxcore/pull/718.diff",
    "draft": false,
    "head": {
        "label": "iphydf:video-fix",
        "ref": "video-fix",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/iphydf/c-toxcore/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/iphydf/c-toxcore/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/iphydf/c-toxcore/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/iphydf/c-toxcore/branches{/branch}",
            "clone_url": "https://github.com/iphydf/c-toxcore.git",
            "collaborators_url": "https://api.github.com/repos/iphydf/c-toxcore/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/iphydf/c-toxcore/comments{/number}",
            "commits_url": "https://api.github.com/repos/iphydf/c-toxcore/commits{/sha}",
            "compare_url": "https://api.github.com/repos/iphydf/c-toxcore/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/iphydf/c-toxcore/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/iphydf/c-toxcore/contributors",
            "created_at": "2016-07-06T11:44:34Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/iphydf/c-toxcore/deployments",
            "description": "The future of online communications.",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/iphydf/c-toxcore/downloads",
            "events_url": "https://api.github.com/repos/iphydf/c-toxcore/events",
            "fork": true,
            "forks": 2,
            "forks_count": 2,
            "forks_url": "https://api.github.com/repos/iphydf/c-toxcore/forks",
            "full_name": "iphydf/c-toxcore",
            "git_commits_url": "https://api.github.com/repos/iphydf/c-toxcore/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/iphydf/c-toxcore/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/iphydf/c-toxcore/git/tags{/sha}",
            "git_url": "git://github.com/iphydf/c-toxcore.git",
            "has_discussions": false,
            "has_downloads": false,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://tox.chat/",
            "hooks_url": "https://api.github.com/repos/iphydf/c-toxcore/hooks",
            "html_url": "https://github.com/iphydf/c-toxcore",
            "id": 62716866,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/iphydf/c-toxcore/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/iphydf/c-toxcore/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/iphydf/c-toxcore/issues{/number}",
            "keys_url": "https://api.github.com/repos/iphydf/c-toxcore/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/iphydf/c-toxcore/labels{/name}",
            "language": "C",
            "languages_url": "https://api.github.com/repos/iphydf/c-toxcore/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/iphydf/c-toxcore/merges",
            "milestones_url": "https://api.github.com/repos/iphydf/c-toxcore/milestones{/number}",
            "mirror_url": null,
            "name": "c-toxcore",
            "node_id": "MDEwOlJlcG9zaXRvcnk2MjcxNjg2Ng==",
            "notifications_url": "https://api.github.com/repos/iphydf/c-toxcore/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/iphydf/c-toxcore/pulls{/number}",
            "pushed_at": "2024-02-23T16:21:29Z",
            "releases_url": "https://api.github.com/repos/iphydf/c-toxcore/releases{/id}",
            "size": 18411,
            "ssh_url": "git@github.com:iphydf/c-toxcore.git",
            "stargazers_count": 2,
            "stargazers_url": "https://api.github.com/repos/iphydf/c-toxcore/stargazers",
            "statuses_url": "https://api.github.com/repos/iphydf/c-toxcore/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/iphydf/c-toxcore/subscribers",
            "subscription_url": "https://api.github.com/repos/iphydf/c-toxcore/subscription",
            "svn_url": "https://github.com/iphydf/c-toxcore",
            "tags_url": "https://api.github.com/repos/iphydf/c-toxcore/tags",
            "teams_url": "https://api.github.com/repos/iphydf/c-toxcore/teams",
            "topics": [
                "cryptography",
                "encryption",
                "network",
                "p2p",
                "security",
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/iphydf/c-toxcore/git/trees{/sha}",
            "updated_at": "2023-12-27T17:55:43Z",
            "url": "https://api.github.com/repos/iphydf/c-toxcore",
            "visibility": "public",
            "watchers": 2,
            "watchers_count": 2,
            "web_commit_signoff_required": false
        },
        "sha": "721358208b6650c62aa654be922867f10a5d6f38",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
            "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
            "followers_url": "https://api.github.com/users/iphydf/followers",
            "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
            "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/iphydf",
            "id": 10647936,
            "login": "iphydf",
            "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
            "organizations_url": "https://api.github.com/users/iphydf/orgs",
            "received_events_url": "https://api.github.com/users/iphydf/received_events",
            "repos_url": "https://api.github.com/users/iphydf/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/iphydf"
        }
    },
    "html_url": "https://github.com/TokTok/c-toxcore/pull/718",
    "id": 164186756,
    "issue_url": "https://api.github.com/repos/TokTok/c-toxcore/issues/718",
    "labels": [],
    "locked": false,
    "merge_commit_sha": "721358208b6650c62aa654be922867f10a5d6f38",
    "merged_at": "2018-02-12T10:43:02Z",
    "milestone": {
        "closed_at": "2018-06-25T16:51:21Z",
        "closed_issues": 176,
        "created_at": "2018-01-14T15:25:51Z",
        "creator": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
            "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
            "followers_url": "https://api.github.com/users/iphydf/followers",
            "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
            "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/iphydf",
            "id": 10647936,
            "login": "iphydf",
            "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
            "organizations_url": "https://api.github.com/users/iphydf/orgs",
            "received_events_url": "https://api.github.com/users/iphydf/received_events",
            "repos_url": "https://api.github.com/users/iphydf/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/iphydf"
        },
        "description": "",
        "due_on": "2018-03-03T08:00:00Z",
        "html_url": "https://github.com/TokTok/c-toxcore/milestone/27",
        "id": 3033917,
        "labels_url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/27/labels",
        "node_id": "MDk6TWlsZXN0b25lMzAzMzkxNw==",
        "number": 27,
        "open_issues": 0,
        "state": "closed",
        "title": "v0.2.0",
        "updated_at": "2022-02-04T11:25:29Z",
        "url": "https://api.github.com/repos/TokTok/c-toxcore/milestones/27"
    },
    "node_id": "MDExOlB1bGxSZXF1ZXN0MTY0MTg2NzU2",
    "number": 718,
    "patch_url": "https://github.com/TokTok/c-toxcore/pull/718.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/718/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/TokTok/c-toxcore/statuses/721358208b6650c62aa654be922867f10a5d6f38",
    "title": "Improve sending of large video frames in toxav.",
    "updated_at": "2018-02-19T08:23:04Z",
    "url": "https://api.github.com/repos/TokTok/c-toxcore/pulls/718",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
        "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
        "followers_url": "https://api.github.com/users/iphydf/followers",
        "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
        "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/iphydf",
        "id": 10647936,
        "login": "iphydf",
        "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
        "organizations_url": "https://api.github.com/users/iphydf/orgs",
        "received_events_url": "https://api.github.com/users/iphydf/received_events",
        "repos_url": "https://api.github.com/users/iphydf/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/iphydf"
    }
}