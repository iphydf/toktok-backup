{
    "_links": {
        "comments": {
            "href": "https://api.github.com/repos/TokTok/spec/issues/21/comments"
        },
        "commits": {
            "href": "https://api.github.com/repos/TokTok/spec/pulls/21/commits"
        },
        "html": {
            "href": "https://github.com/TokTok/spec/pull/21"
        },
        "issue": {
            "href": "https://api.github.com/repos/TokTok/spec/issues/21"
        },
        "review_comment": {
            "href": "https://api.github.com/repos/TokTok/spec/pulls/comments{/number}"
        },
        "review_comments": {
            "href": "https://api.github.com/repos/TokTok/spec/pulls/21/comments"
        },
        "self": {
            "href": "https://api.github.com/repos/TokTok/spec/pulls/21"
        },
        "statuses": {
            "href": "https://api.github.com/repos/TokTok/spec/statuses/3c15159b10c0a04212678e39243bda2cf4eab8d5"
        }
    },
    "active_lock_reason": null,
    "assignee": {
        "avatar_url": "https://avatars.githubusercontent.com/u/3148759?v=4",
        "events_url": "https://api.github.com/users/zetok/events{/privacy}",
        "followers_url": "https://api.github.com/users/zetok/followers",
        "following_url": "https://api.github.com/users/zetok/following{/other_user}",
        "gists_url": "https://api.github.com/users/zetok/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/zetok",
        "id": 3148759,
        "login": "zetok",
        "node_id": "MDQ6VXNlcjMxNDg3NTk=",
        "organizations_url": "https://api.github.com/users/zetok/orgs",
        "received_events_url": "https://api.github.com/users/zetok/received_events",
        "repos_url": "https://api.github.com/users/zetok/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/zetok/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/zetok/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/zetok"
    },
    "assignees": [
        {
            "avatar_url": "https://avatars.githubusercontent.com/u/3148759?v=4",
            "events_url": "https://api.github.com/users/zetok/events{/privacy}",
            "followers_url": "https://api.github.com/users/zetok/followers",
            "following_url": "https://api.github.com/users/zetok/following{/other_user}",
            "gists_url": "https://api.github.com/users/zetok/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/zetok",
            "id": 3148759,
            "login": "zetok",
            "node_id": "MDQ6VXNlcjMxNDg3NTk=",
            "organizations_url": "https://api.github.com/users/zetok/orgs",
            "received_events_url": "https://api.github.com/users/zetok/received_events",
            "repos_url": "https://api.github.com/users/zetok/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/zetok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zetok/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/zetok"
        }
    ],
    "author_association": "MEMBER",
    "auto_merge": null,
    "base": {
        "label": "TokTok:master",
        "ref": "master",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/TokTok/spec/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/TokTok/spec/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/TokTok/spec/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/TokTok/spec/branches{/branch}",
            "clone_url": "https://github.com/TokTok/spec.git",
            "collaborators_url": "https://api.github.com/repos/TokTok/spec/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/TokTok/spec/comments{/number}",
            "commits_url": "https://api.github.com/repos/TokTok/spec/commits{/sha}",
            "compare_url": "https://api.github.com/repos/TokTok/spec/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/TokTok/spec/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/TokTok/spec/contributors",
            "created_at": "2016-02-19T14:32:56Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/TokTok/spec/deployments",
            "description": "Tox Protocol Specification",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/TokTok/spec/downloads",
            "events_url": "https://api.github.com/repos/TokTok/spec/events",
            "fork": false,
            "forks": 13,
            "forks_count": 13,
            "forks_url": "https://api.github.com/repos/TokTok/spec/forks",
            "full_name": "TokTok/spec",
            "git_commits_url": "https://api.github.com/repos/TokTok/spec/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/TokTok/spec/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/TokTok/spec/git/tags{/sha}",
            "git_url": "git://github.com/TokTok/spec.git",
            "has_discussions": false,
            "has_downloads": false,
            "has_issues": true,
            "has_pages": false,
            "has_projects": false,
            "has_wiki": false,
            "homepage": "https://toktok.ltd/spec",
            "hooks_url": "https://api.github.com/repos/TokTok/spec/hooks",
            "html_url": "https://github.com/TokTok/spec",
            "id": 52093345,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/TokTok/spec/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/TokTok/spec/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/TokTok/spec/issues{/number}",
            "keys_url": "https://api.github.com/repos/TokTok/spec/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/TokTok/spec/labels{/name}",
            "language": "CSS",
            "languages_url": "https://api.github.com/repos/TokTok/spec/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/TokTok/spec/merges",
            "milestones_url": "https://api.github.com/repos/TokTok/spec/milestones{/number}",
            "mirror_url": null,
            "name": "spec",
            "node_id": "MDEwOlJlcG9zaXRvcnk1MjA5MzM0NQ==",
            "notifications_url": "https://api.github.com/repos/TokTok/spec/notifications{?since,all,participating}",
            "open_issues": 10,
            "open_issues_count": 10,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
                "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
                "followers_url": "https://api.github.com/users/TokTok/followers",
                "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
                "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/TokTok",
                "id": 17427091,
                "login": "TokTok",
                "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
                "organizations_url": "https://api.github.com/users/TokTok/orgs",
                "received_events_url": "https://api.github.com/users/TokTok/received_events",
                "repos_url": "https://api.github.com/users/TokTok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
                "type": "Organization",
                "url": "https://api.github.com/users/TokTok"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/TokTok/spec/pulls{/number}",
            "pushed_at": "2024-01-02T15:31:53Z",
            "releases_url": "https://api.github.com/repos/TokTok/spec/releases{/id}",
            "size": 681,
            "ssh_url": "git@github.com:TokTok/spec.git",
            "stargazers_count": 32,
            "stargazers_url": "https://api.github.com/repos/TokTok/spec/stargazers",
            "statuses_url": "https://api.github.com/repos/TokTok/spec/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/TokTok/spec/subscribers",
            "subscription_url": "https://api.github.com/repos/TokTok/spec/subscription",
            "svn_url": "https://github.com/TokTok/spec",
            "tags_url": "https://api.github.com/repos/TokTok/spec/tags",
            "teams_url": "https://api.github.com/repos/TokTok/spec/teams",
            "topics": [
                "protocol",
                "tox",
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/TokTok/spec/git/trees{/sha}",
            "updated_at": "2024-01-01T12:52:17Z",
            "url": "https://api.github.com/repos/TokTok/spec",
            "visibility": "public",
            "watchers": 32,
            "watchers_count": 32,
            "web_commit_signoff_required": false
        },
        "sha": "5cbe98548f82acfa10f51646bdc3fea656af1c30",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/17427091?v=4",
            "events_url": "https://api.github.com/users/TokTok/events{/privacy}",
            "followers_url": "https://api.github.com/users/TokTok/followers",
            "following_url": "https://api.github.com/users/TokTok/following{/other_user}",
            "gists_url": "https://api.github.com/users/TokTok/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/TokTok",
            "id": 17427091,
            "login": "TokTok",
            "node_id": "MDEyOk9yZ2FuaXphdGlvbjE3NDI3MDkx",
            "organizations_url": "https://api.github.com/users/TokTok/orgs",
            "received_events_url": "https://api.github.com/users/TokTok/received_events",
            "repos_url": "https://api.github.com/users/TokTok/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/TokTok/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TokTok/subscriptions",
            "type": "Organization",
            "url": "https://api.github.com/users/TokTok"
        }
    },
    "body": "<!-- Reviewable:start -->\n\n[<img src=\"https://reviewable.io/review_button.svg\" height=\"40\" alt=\"Review on Reviewable\"/>](https://reviewable.io/reviews/toktok/tox-spec/21)\n\n<!-- Reviewable:end -->\n",
    "closed_at": "2016-03-02T19:07:26Z",
    "comment_data": [],
    "comment_regular_data": [
        {
            "author_association": "MEMBER",
            "body": "Generally, making packet structure less \"redundant\" in the spec appears to make it a lot harder to comprehend how each packet structure should look like.\n\n---\n\nReview status: 0 of 1 files reviewed at latest revision, 10 unresolved discussions.\n\n---\n\n_[spec.md, line 23 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBnmEji0barVDjJBNy3:-KBnmEji0barVDjJBNy4:-676370370) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L23)):_\nIs `[n, ]` really better than `[n, …]` ?\n\n---\n\n_[spec.md, line 339 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqVsxCRORAIIMjBcGt:-KBqVsxDICvx1LZ6VzRs:-1818131523) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L339)):_\nWithout this, it's harder to visualise how packet structure is supposed to look like.\n\n---\n\n_[spec.md, line 352 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqW6ctXdYg0ydeb15r:-KBqW6ctXdYg0ydeb15s:1064459590) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L352)):_\n\"inside\" is kinda confusing, due to it sounding as if there was some sort of wrapper around data.\n\n\"Protocol Packets that are used in DHT consist of Packet Kind followed by DHT Packet data\" ?\n\n---\n\n_[spec.md, line 358 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqXKpBnPbn5xW0TIO3:-KBqXKpCSQDrGf2-HKfr:-502315302) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L358)):_\nDue to padding, size of the encrypted part is always at minimum `+ MACBYTES` (16 bytes) when encrypted. Minimal plain size seems to be 9 (Ping).\n\n---\n\n_[spec.md, line 360 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqaUkbx6UmVsywlfSe:-KBqaUkcElq1DuJasH6O:2109353702) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L360)):_\nGiven that \"RPC Services\" is part of the DHT Packet, shouldn't it be located \"under\" it, as its subsection? \n\n---\n\n_[spec.md, line 363 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqd0RjtHOC-XGTyIKK:-KBqd0RjtHOC-XGTyIKL:-560135341) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L363)):_\nIs \"Ping ID\" the best name? I.e. it seems to have a bit of capacity to be misleading - wouldn't it be better to call it differently, e.g. \"Request ID\" ?\n\nOn the other hand, \"Request ID\" can also be misleading :/\n\n---\n\n_[spec.md, line 372 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqe5ujz5J6rfdWA9Jc:-KBqe5ujz5J6rfdWA9Jd:-909322894) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L372)):_\nMinimal length of payload in DHT Packet is 1 – smallest payload in DHT Packet is with Ping Req/Resp, which has 9 bytes.\n\n---\n\n_[spec.md, line 380 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqnHB6n634Nvqe6S30:-KBqnHB6n634Nvqe6S31:347695936) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L380)):_\nI think that it would be nice to keep that info somewhere, even if spec isn't quite the right place for it.\n\n---\n\n_[spec.md, line 392 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqimRxZXQEugHidew5:-KBqimRxZXQEugHidew6:2106080796) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L392)):_\nErr. This is really misleading, as opposed to the original text, since it sounds as if the encrypted text was the same, and not the plaintext.\n\nAlso, it's invalid, if \n\n> A Ping Packet contains just its Packet Kind.\n\nis to be upheld - i.e. Ping packet consists _only_ of one byte.\n\n---\n\n_[spec.md, line 438 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqc7zvCvTguCWmXmAm:-KBqc7zvCvTguCWmXmAn:-2047173176) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L438)):_\nInfo regarding Packed Node is located under `## Node Info (packed node format)`.\n\nLine can be removed, since it seems redundant, and this subsection needs some other name.\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21#-:-KBqmRafBvl6-VVJ7ypR:391096700)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-02T10:11:49Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191169319",
            "id": 191169319,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTE2OTMxOQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191169319/reactions"
            },
            "updated_at": "2016-03-02T10:11:49Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191169319",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3148759?v=4",
                "events_url": "https://api.github.com/users/zetok/events{/privacy}",
                "followers_url": "https://api.github.com/users/zetok/followers",
                "following_url": "https://api.github.com/users/zetok/following{/other_user}",
                "gists_url": "https://api.github.com/users/zetok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zetok",
                "id": 3148759,
                "login": "zetok",
                "node_id": "MDQ6VXNlcjMxNDg3NTk=",
                "organizations_url": "https://api.github.com/users/zetok/orgs",
                "received_events_url": "https://api.github.com/users/zetok/received_events",
                "repos_url": "https://api.github.com/users/zetok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zetok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zetok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zetok"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "That's true, but ideally an implementor wouldn't really care what the final packets look like. Each abstraction and each sub-packet should be understandable. There are two main concerns with the redundancy:\n1. If the final packet structure becomes too complex, it becomes harder to comprehend as well.\n2. If the packets all look very similar, finding the difference is a challenge.\n\n---\n\nReview status: 0 of 1 files reviewed at latest revision, 10 unresolved discussions.\n\n---\n\n_[spec.md, line 23 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBnmEji0barVDjJBNy3:-KBqsKTzh9grUmoDQUy4:-1969891028) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L23)):_\nIt seems not better or worse. `[n,∞]` would be ideal, but both ∞ and … are unicode symbols. I'm not sure how they behave when e.g. [converted to PDF](https://gist.github.com/benmarwick/4fb6f222443493e3c864).\n\nWhich exact notation is chosen isn't that important, as long as it's consistent and specified.\n\n---\n\n_[spec.md, line 339 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqVsxCRORAIIMjBcGt:-KBr1uR0OYCB6epW1zaB:-88809667) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L339)):_\nWith it, it becomes ambiguous, because then does the DHT Packet have the packet kind repeated or is this byte already part of the Protocol Packet? The sentence immediately preceding the table is intended to clarify that.\n\n---\n\n_[spec.md, line 352 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqW6ctXdYg0ydeb15r:-KBqyF1RYtI3v3t04Vpw:-2002719982) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L352)):_\nIt's intended to convey the \"wrapper\" idea. The way I intend for the spec to work is that it not just specifies packet layouts and behaviour, but also provides higher level abstractions that are useful for implementing and reasoning about it. The fact that DHT Packets are sent inside Protocol Packets is purely informative, not normative. It might as well be transported in some other way.\n\n---\n\n_[spec.md, line 358 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqXKpBnPbn5xW0TIO3:-KBqtsRXpEef_dDK5QWD:-499146009) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L358)):_\nDone.\n\n---\n\n_[spec.md, line 360 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqaUkbx6UmVsywlfSe:-KBqtt8huHZ_MgnaC6Q7:-301342528) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L360)):_\nNo, just like the DHT Packet is part of a Protocol Packet, it is wrapped within, but not hierarchically below it. In particular, in an implementation you'll want to have an abstraction of RPC Services that give you the wrapped packet (in case of ping it's just a bool).\n\n---\n\n_[spec.md, line 363 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqd0RjtHOC-XGTyIKK:-KBqy5Yw2Ob2EjCz0OcS:-1508424841) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L363)):_\nI like Request ID better.\n\n---\n\n_[spec.md, line 372 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqe5ujz5J6rfdWA9Jc:-KBquS8tJgCwrRrB35i9:1392578983) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L372)):_\nThe RPC packet doesn't care, but you're right that it would be bad if a packet format existed with no payload. Clarified that.\n\n---\n\n_[spec.md, line 380 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqnHB6n634Nvqe6S30:-KBr1dYOmTDyLveFCQ2a:385679069) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L380)):_\nWhich info went missing? The last sentence is now \"helps identify the response for a given request\" in the rpc packet section.\n\n---\n\n_[spec.md, line 392 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqimRxZXQEugHidew5:-KBqwdVI1BEFeKLkUTvq:-910331869) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L392)):_\nClarified.\n\nPing Packet does only consist of one byte. It is transported within an RPC Packet, which consists of payload + 8 bytes. In the end you'll have `ProtocolPacket(kind, DhtPacket(pubkey, nonce, encrypted(RpcPacket(PingPacket(True), requestId))))` for a ping response. The \"ping packet\" part is just one byte.\n\nIf I add a clarifying sentence to the Ping Packet section, it would need to be added to every packet section as it would otherwise imply that it's only true for ping packets. Suggestions for where (not how) I should clarify this structure?\n\n---\n\n_[spec.md, line 438 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqc7zvCvTguCWmXmAm:-KBqxwuTyoO4FmTYqD9X:-609814302) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L438)):_\nI agree, but not in this PR. I haven't started rewriting this section, yet.\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21#-:-KBr-BcYWwAe1d8dO9GD:-1641406069)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-02T11:22:48Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191194248",
            "id": 191194248,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTE5NDI0OA==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191194248/reactions"
            },
            "updated_at": "2016-03-02T11:22:48Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191194248",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Review status: 0 of 1 files reviewed at latest revision, 3 unresolved discussions.\n\n---\n\n_[spec.md, line 339 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqVsxCRORAIIMjBcGt:-KBrZevG8vGBkSFKHYdQ:1067754198) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L339)):_\nRight. \"Clarification\" though to me sounds a bit as if Packet Kind byte was located after the contents of DHT Packet. Perhaps that's just how I perceive it.\n\n---\n\n_[spec.md, line 392 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqimRxZXQEugHidew5:-KBrb22mFALdaHQ5mu7P:1861247804) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L392)):_\nSince it holds true for all RPC Packets, shouldn't it be clarified there?\n\n---\n\n_[spec.md, line 409 [r3]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBrh7sXTcNTgaJCJFDI:-KBrh7sXTcNTgaJCJFDJ:868706570) ([raw file](https://github.com/toktok/tox-spec/blob/cf0727da129b1ccce331fed85631619e158761d7/spec.md#L409)):_\nI think that False/True \"alone\" is not enough, or at least not when seemingly nothing really points to `0x00`/`0x01` being the values of the \"bool\".\n\nOr, if \"bool\" value is going to be used also elsewhere, perhaps something could be added to Introduction about it?\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-02T14:30:09Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191260023",
            "id": 191260023,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTI2MDAyMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191260023/reactions"
            },
            "updated_at": "2016-03-02T14:30:09Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191260023",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3148759?v=4",
                "events_url": "https://api.github.com/users/zetok/events{/privacy}",
                "followers_url": "https://api.github.com/users/zetok/followers",
                "following_url": "https://api.github.com/users/zetok/following{/other_user}",
                "gists_url": "https://api.github.com/users/zetok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zetok",
                "id": 3148759,
                "login": "zetok",
                "node_id": "MDQ6VXNlcjMxNDg3NTk=",
                "organizations_url": "https://api.github.com/users/zetok/orgs",
                "received_events_url": "https://api.github.com/users/zetok/received_events",
                "repos_url": "https://api.github.com/users/zetok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zetok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zetok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zetok"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Reviewed 1 of 1 files at r4.\nReview status: all files reviewed at latest revision, 1 unresolved discussion.\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-02T19:05:26Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191375433",
            "id": 191375433,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTM3NTQzMw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191375433/reactions"
            },
            "updated_at": "2016-03-02T19:05:26Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191375433",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/3148759?v=4",
                "events_url": "https://api.github.com/users/zetok/events{/privacy}",
                "followers_url": "https://api.github.com/users/zetok/followers",
                "following_url": "https://api.github.com/users/zetok/following{/other_user}",
                "gists_url": "https://api.github.com/users/zetok/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/zetok",
                "id": 3148759,
                "login": "zetok",
                "node_id": "MDQ6VXNlcjMxNDg3NTk=",
                "organizations_url": "https://api.github.com/users/zetok/orgs",
                "received_events_url": "https://api.github.com/users/zetok/received_events",
                "repos_url": "https://api.github.com/users/zetok/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/zetok/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/zetok/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/zetok"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Review status: all files reviewed at latest revision, 12 unresolved discussions, all commit checks successful.\n\n---\n\n_[spec.md, line 211 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsa9yZ2_6XG4EswmlR:-KBsa9yZ2_6XG4EswmlS:1570763249) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L211)):_\nSpecify the length unit (bytes)\n\n---\n\n_[spec.md, line 216 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsaj9XuXZwy_WvRrHd:-KBsaj9Yd1H4sVAncxUK:-1529348815) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L216)):_\nShould this be the place to specify a common endianess for all payloads?\n\n---\n\n_[spec.md, line 270 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsawUW98uRvGkNGARI:-KBsawUW98uRvGkNGARJ:526678684) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L270)):_\nSince you are uniformising on “node”, shouldn't you start with “all nodes in the Tox network [...] also called “Tox node” or “peer”” ?\n\n---\n\n_[spec.md, line 276 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsbGcw3AkIbvTqm8Py:-KBsbGcw3AkIbvTqm8Pz:-165358038) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L276)):_\n“ephemeral” rather than “temporary”, I would say.\n(It makes it clearer that the key is a throw-away that is changed from time to time)\n\n---\n\n_[spec.md, line 283 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBseCPWTSDQYxvLU5mj:-KBseCPWTSDQYxvLU5mk:-394748233) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L283)):_\nIs the algebraic background helpful?\n\n---\n\n_[spec.md, line 286 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBse3GnamT3pb8CGhyD:-KBse3GoVt2AE-jM0AjZ:-870347448) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L286)):_\n“Distance is an [ordered monoid](https://en.wikipedia.org/wiki/Ordered_semigroup)”, otherwise none of that section makes sense.\n\n---\n\n_[spec.md, line 288 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBscKz7NyJUqEqG8z4x:-KBscKz8Gz40NnDeSoMd:2060073469) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L288)):_\n“their Distance [to the node under consideration]”\n\n---\n\n_[spec.md, line 292 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsccItC3x6XIW3LWWW:-KBsccItC3x6XIW3LWWX:608975444) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L292)):_\n“co-domain”, not “result”\n\n---\n\n_[spec.md, line 309 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBscr4Rp8kKPQLZCdgZ:-KBscr4Rp8kKPQLZCdg_:-1131771359) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L309)):_\nThis should be “`d(x, y) == 0` iff `x == y`: two integers have a null XOR iff they are equal”.\\\nOtherwise, the constant function 0 would be a metric.\n\n---\n\n_[spec.md, line 327 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBseL5xmUBTOMYhE87B:-KBseL5xmUBTOMYhE87C:892104324) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L327)):_\nIs that relevant ?\n\n---\n\n_[spec.md, line 361 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsiEE6kH5UqjIUSKny:-KBsiEE7h4T8jagmRl7x:-1280666773) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L361)):_\nIt would be better, I think, to say “an authentication tag”, because Poly1305 by itself is “only” a one-time authenticator, and it is used here in an authenticated encryption construction.\n\n---\n\n_[spec.md, line 382 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBskgQ3UhdGtdikb5Ns:-KBskgQ4gz2RAINc0kUh:1576787459) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L382)):_\nThe “due to symmetric encryption” part is hard to understand.  Here is a stab at improving it:\n\n> Due to the use of the same symmetric key in both communication directions, an encrypted\n> Request is a valid encrypted Response, containing the same plaintext.  \n> Parts of the protocol using RPC packets must take care to make Request payloads not be\n> valid Response payloads; for instance, [Ping Packets](#ping-service) carry a boolean flag\n> that indicate whether the payload corresponds to a Request or an Answer.\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-02T19:43:30Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191393916",
            "id": 191393916,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTM5MzkxNg==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191393916/reactions"
            },
            "updated_at": "2016-03-02T19:43:30Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191393916",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1155801?v=4",
                "events_url": "https://api.github.com/users/nbraud/events{/privacy}",
                "followers_url": "https://api.github.com/users/nbraud/followers",
                "following_url": "https://api.github.com/users/nbraud/following{/other_user}",
                "gists_url": "https://api.github.com/users/nbraud/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nbraud",
                "id": 1155801,
                "login": "nbraud",
                "node_id": "MDQ6VXNlcjExNTU4MDE=",
                "organizations_url": "https://api.github.com/users/nbraud/orgs",
                "received_events_url": "https://api.github.com/users/nbraud/received_events",
                "repos_url": "https://api.github.com/users/nbraud/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nbraud/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nbraud/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nbraud"
            }
        },
        {
            "author_association": "NONE",
            "body": "It also makes it easier to maintain, and keep everything up to date if we don't have to edit multiple places.\n\n---\n\nReview status: all files reviewed at latest revision, 12 unresolved discussions.\n\n---\n\n_[spec.md, line 211 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsa9yZ2_6XG4EswmlR:-KBsthoCEImDtrxI0yxY:474825619) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L211)):_\nI suggest not. Everything in the spec should be in bytes.\n\n---\n\n_[spec.md, line 276 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsbGcw3AkIbvTqm8Py:-KBsuGSp6pJEbIlE1aw8:1209524206) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L276)):_\nTemporary is probably better in this case. It could last weeks-months if the tox instance never gets restarted.\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21#-:-KBsukwl2zxWUkMuJGi0:1380902841)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-02T20:02:20Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191402686",
            "id": 191402686,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTQwMjY4Ng==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191402686/reactions"
            },
            "updated_at": "2016-03-02T20:02:20Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191402686",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/243408?v=4",
                "events_url": "https://api.github.com/users/GrayHatter/events{/privacy}",
                "followers_url": "https://api.github.com/users/GrayHatter/followers",
                "following_url": "https://api.github.com/users/GrayHatter/following{/other_user}",
                "gists_url": "https://api.github.com/users/GrayHatter/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/GrayHatter",
                "id": 243408,
                "login": "GrayHatter",
                "node_id": "MDQ6VXNlcjI0MzQwOA==",
                "organizations_url": "https://api.github.com/users/GrayHatter/orgs",
                "received_events_url": "https://api.github.com/users/GrayHatter/received_events",
                "repos_url": "https://api.github.com/users/GrayHatter/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/GrayHatter/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/GrayHatter/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/GrayHatter"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Review status: all files reviewed at latest revision, 12 unresolved discussions.\n\n---\n\n_[spec.md, line 211 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsa9yZ2_6XG4EswmlR:-KBwTnBYGHW9PhcpQOxS:1581067197) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L211)):_\nThere are a places in the spec where the unit is specified (and sometimes the value in bits is added).\nIf everything should be (unless specified) bytes, it should also be stated at the beginning (I might have missed it, but I didn't find such a definition).\n\n---\n\n_[spec.md, line 276 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsbGcw3AkIbvTqm8Py:-KBwUJJ2MXnTljd2_vaA:1959896254) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L276)):_\nMy issue with temporary is that it makes it sound that it is used only until something else happens (and we switch to another key).\nShould that be “session key” instead?\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-03T12:41:26Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191747369",
            "id": 191747369,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTc0NzM2OQ==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191747369/reactions"
            },
            "updated_at": "2016-03-03T12:41:26Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191747369",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/1155801?v=4",
                "events_url": "https://api.github.com/users/nbraud/events{/privacy}",
                "followers_url": "https://api.github.com/users/nbraud/followers",
                "following_url": "https://api.github.com/users/nbraud/following{/other_user}",
                "gists_url": "https://api.github.com/users/nbraud/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nbraud",
                "id": 1155801,
                "login": "nbraud",
                "node_id": "MDQ6VXNlcjExNTU4MDE=",
                "organizations_url": "https://api.github.com/users/nbraud/orgs",
                "received_events_url": "https://api.github.com/users/nbraud/received_events",
                "repos_url": "https://api.github.com/users/nbraud/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nbraud/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nbraud/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nbraud"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "Review status: all files reviewed at latest revision, 12 unresolved discussions.\n\n---\n\n_[spec.md, line 339 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqVsxCRORAIIMjBcGt:-KBwgXWdCq-gi2nzoeNS:1222793305) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L339)):_\nWith the packet structure tables merged, this is now clear.\n\n---\n\n_[spec.md, line 392 [r1]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBqimRxZXQEugHidew5:-KBwgGq2a-uwlTErHmSc:-1435956346) ([raw file](https://github.com/toktok/tox-spec/blob/83fab7c37d46ea30d5e7413ed26b4dd1adbcc8d6/spec.md#L392)):_\nI've resolved to using XSLT to expand packet types in the output HTML.\n\n---\n\n_[spec.md, line 211 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsa9yZ2_6XG4EswmlR:-KBwDwYbXi_7eUQz4THi:1383233942) ([raw file](https://github.com/toktok/tox-spec/blob/5cbe98548f82acfa10f51646bdc3fea656af1c30/spec.md#L211)):_\nThe default length unit is bytes, as specified in paragraph 3 of the introduction.\n\n---\n\n_[spec.md, line 216 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsaj9XuXZwy_WvRrHd:-KBwETRG7GcBfyVPYZRa:618851790) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L216)):_\nAdded a sentence about integer encoding to Introduction paragraph 2.\n\n---\n\n_[spec.md, line 270 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsawUW98uRvGkNGARI:-KBwFDLxNmRFL5xYapSC:-1530771663) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L270)):_\nAgreed.\n\n---\n\n_[spec.md, line 276 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsbGcw3AkIbvTqm8Py:-KBwcYWxjiTdZhvD2V1B:-1690949966) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L276)):_\nUpdated description and split into two paragraphs.\n\n---\n\n_[spec.md, line 283 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBseCPWTSDQYxvLU5mj:-KBwd060yiA8RPNTsMrm:146949350) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L283)):_\nI think where possible, we should include the algebraic background of data types. This guides an implementation, because for example in C++ one could create a class representing a distance, and \"ordered monoid\" like you said is a simple way of saying \"it has an operator <=, an operator+, and a zero\".\n\nLater on in the document we'll be talking about node sets and define operations on them. There, this terminology will be useful as well.\n\n---\n\n_[spec.md, line 286 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBse3GnamT3pb8CGhyD:-KBwcyYVUjpZd-PL7ilg:-499146009) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L286)):_\nDone.\n\n---\n\n_[spec.md, line 288 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBscKz7NyJUqEqG8z4x:-KBwcmNgYwv_DFVQwKW_:-499146009) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L288)):_\nDone.\n\n---\n\n_[spec.md, line 292 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsccItC3x6XIW3LWWW:-KBwdlFnAMpgs3rQL7D6:-499146009) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L292)):_\nDone.\n\n---\n\n_[spec.md, line 309 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBscr4Rp8kKPQLZCdgZ:-KBwe8kZhqk1JZOKSmBW:2080954295) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L309)):_\nI had considered this, but decided to simplify. I've reverted that decision.\n\n---\n\n_[spec.md, line 327 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBseL5xmUBTOMYhE87B:-KBweQM5-k94kU6GJ7gf:-1081084963) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L327)):_\nNot really. Removed.\n\n---\n\n_[spec.md, line 361 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBsiEE6kH5UqjIUSKny:-KBweZMiIpmgPv5bQ_ua:-392917790) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L361)):_\nThe reason for saying MAC is that [NaCl calls it that](https://github.com/jedisct1/libsodium/blob/master/src/libsodium/include/sodium/crypto_box_curve25519xsalsa20poly1305.h#L34). Why is MAC a bad name for it?\n\n---\n\n_[spec.md, line 382 [r4]](https://reviewable.io:443/reviews/toktok/tox-spec/21#-KBskgQ3UhdGtdikb5Ns:-KBwfxMH8rOMMUKCbIj4:818816578) ([raw file](https://github.com/toktok/tox-spec/blob/3c15159b10c0a04212678e39243bda2cf4eab8d5/spec.md#L382)):_\nAccepted this, rewrote it slightly. PTAL to see if it still means what you wanted it to express.\n\n---\n\n_Comments from the [review on Reviewable.io](https://reviewable.io:443/reviews/toktok/tox-spec/21)_\n\n<!-- Sent from Reviewable.io -->\n",
            "created_at": "2016-03-03T13:37:33Z",
            "html_url": "https://github.com/TokTok/spec/pull/21#issuecomment-191763453",
            "id": 191763453,
            "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
            "node_id": "MDEyOklzc3VlQ29tbWVudDE5MTc2MzQ1Mw==",
            "performed_via_github_app": null,
            "reactions": {
                "+1": 0,
                "-1": 0,
                "confused": 0,
                "eyes": 0,
                "heart": 0,
                "hooray": 0,
                "laugh": 0,
                "rocket": 0,
                "total_count": 0,
                "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191763453/reactions"
            },
            "updated_at": "2016-03-03T13:37:33Z",
            "url": "https://api.github.com/repos/TokTok/spec/issues/comments/191763453",
            "user": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            }
        }
    ],
    "comments_url": "https://api.github.com/repos/TokTok/spec/issues/21/comments",
    "commit_data": [
        {
            "author": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            },
            "comments_url": "https://api.github.com/repos/TokTok/spec/commits/3c15159b10c0a04212678e39243bda2cf4eab8d5/comments",
            "commit": {
                "author": {
                    "date": "2016-02-29T21:55:22Z",
                    "email": "iphydf@users.noreply.github.com",
                    "name": "iphydf"
                },
                "comment_count": 0,
                "committer": {
                    "date": "2016-03-02T18:29:22Z",
                    "email": "iphydf@users.noreply.github.com",
                    "name": "iphydf"
                },
                "message": "Rewrote part of the DHT sections on packet formats.",
                "tree": {
                    "sha": "87fd53cb4df0c002522985b25c39801ab5c991d5",
                    "url": "https://api.github.com/repos/TokTok/spec/git/trees/87fd53cb4df0c002522985b25c39801ab5c991d5"
                },
                "url": "https://api.github.com/repos/TokTok/spec/git/commits/3c15159b10c0a04212678e39243bda2cf4eab8d5",
                "verification": {
                    "payload": null,
                    "reason": "unsigned",
                    "signature": null,
                    "verified": false
                }
            },
            "committer": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            },
            "html_url": "https://github.com/TokTok/spec/commit/3c15159b10c0a04212678e39243bda2cf4eab8d5",
            "node_id": "MDY6Q29tbWl0NTIzNzkwNDM6M2MxNTE1OWIxMGMwYTA0MjEyNjc4ZTM5MjQzYmRhMmNmNGVhYjhkNQ==",
            "parents": [
                {
                    "html_url": "https://github.com/TokTok/spec/commit/5cbe98548f82acfa10f51646bdc3fea656af1c30",
                    "sha": "5cbe98548f82acfa10f51646bdc3fea656af1c30",
                    "url": "https://api.github.com/repos/TokTok/spec/commits/5cbe98548f82acfa10f51646bdc3fea656af1c30"
                }
            ],
            "sha": "3c15159b10c0a04212678e39243bda2cf4eab8d5",
            "url": "https://api.github.com/repos/TokTok/spec/commits/3c15159b10c0a04212678e39243bda2cf4eab8d5"
        }
    ],
    "commits_url": "https://api.github.com/repos/TokTok/spec/pulls/21/commits",
    "created_at": "2016-03-01T17:27:36Z",
    "diff_url": "https://github.com/TokTok/spec/pull/21.diff",
    "draft": false,
    "head": {
        "label": "iphydf:dht-packets",
        "ref": "dht-packets",
        "repo": {
            "allow_forking": true,
            "archive_url": "https://api.github.com/repos/iphydf/spec/{archive_format}{/ref}",
            "archived": false,
            "assignees_url": "https://api.github.com/repos/iphydf/spec/assignees{/user}",
            "blobs_url": "https://api.github.com/repos/iphydf/spec/git/blobs{/sha}",
            "branches_url": "https://api.github.com/repos/iphydf/spec/branches{/branch}",
            "clone_url": "https://github.com/iphydf/spec.git",
            "collaborators_url": "https://api.github.com/repos/iphydf/spec/collaborators{/collaborator}",
            "comments_url": "https://api.github.com/repos/iphydf/spec/comments{/number}",
            "commits_url": "https://api.github.com/repos/iphydf/spec/commits{/sha}",
            "compare_url": "https://api.github.com/repos/iphydf/spec/compare/{base}...{head}",
            "contents_url": "https://api.github.com/repos/iphydf/spec/contents/{+path}",
            "contributors_url": "https://api.github.com/repos/iphydf/spec/contributors",
            "created_at": "2016-02-23T17:45:48Z",
            "default_branch": "master",
            "deployments_url": "https://api.github.com/repos/iphydf/spec/deployments",
            "description": "Tox Protocol Specification",
            "disabled": false,
            "downloads_url": "https://api.github.com/repos/iphydf/spec/downloads",
            "events_url": "https://api.github.com/repos/iphydf/spec/events",
            "fork": true,
            "forks": 0,
            "forks_count": 0,
            "forks_url": "https://api.github.com/repos/iphydf/spec/forks",
            "full_name": "iphydf/spec",
            "git_commits_url": "https://api.github.com/repos/iphydf/spec/git/commits{/sha}",
            "git_refs_url": "https://api.github.com/repos/iphydf/spec/git/refs{/sha}",
            "git_tags_url": "https://api.github.com/repos/iphydf/spec/git/tags{/sha}",
            "git_url": "git://github.com/iphydf/spec.git",
            "has_discussions": false,
            "has_downloads": true,
            "has_issues": true,
            "has_pages": false,
            "has_projects": true,
            "has_wiki": false,
            "homepage": "https://toktok.ltd/spec",
            "hooks_url": "https://api.github.com/repos/iphydf/spec/hooks",
            "html_url": "https://github.com/iphydf/spec",
            "id": 52379043,
            "is_template": false,
            "issue_comment_url": "https://api.github.com/repos/iphydf/spec/issues/comments{/number}",
            "issue_events_url": "https://api.github.com/repos/iphydf/spec/issues/events{/number}",
            "issues_url": "https://api.github.com/repos/iphydf/spec/issues{/number}",
            "keys_url": "https://api.github.com/repos/iphydf/spec/keys{/key_id}",
            "labels_url": "https://api.github.com/repos/iphydf/spec/labels{/name}",
            "language": "CSS",
            "languages_url": "https://api.github.com/repos/iphydf/spec/languages",
            "license": {
                "key": "gpl-3.0",
                "name": "GNU General Public License v3.0",
                "node_id": "MDc6TGljZW5zZTk=",
                "spdx_id": "GPL-3.0",
                "url": "https://api.github.com/licenses/gpl-3.0"
            },
            "merges_url": "https://api.github.com/repos/iphydf/spec/merges",
            "milestones_url": "https://api.github.com/repos/iphydf/spec/milestones{/number}",
            "mirror_url": null,
            "name": "spec",
            "node_id": "MDEwOlJlcG9zaXRvcnk1MjM3OTA0Mw==",
            "notifications_url": "https://api.github.com/repos/iphydf/spec/notifications{?since,all,participating}",
            "open_issues": 0,
            "open_issues_count": 0,
            "owner": {
                "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
                "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
                "followers_url": "https://api.github.com/users/iphydf/followers",
                "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
                "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/iphydf",
                "id": 10647936,
                "login": "iphydf",
                "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
                "organizations_url": "https://api.github.com/users/iphydf/orgs",
                "received_events_url": "https://api.github.com/users/iphydf/received_events",
                "repos_url": "https://api.github.com/users/iphydf/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/iphydf"
            },
            "private": false,
            "pulls_url": "https://api.github.com/repos/iphydf/spec/pulls{/number}",
            "pushed_at": "2024-01-02T15:31:57Z",
            "releases_url": "https://api.github.com/repos/iphydf/spec/releases{/id}",
            "size": 525,
            "ssh_url": "git@github.com:iphydf/spec.git",
            "stargazers_count": 0,
            "stargazers_url": "https://api.github.com/repos/iphydf/spec/stargazers",
            "statuses_url": "https://api.github.com/repos/iphydf/spec/statuses/{sha}",
            "subscribers_url": "https://api.github.com/repos/iphydf/spec/subscribers",
            "subscription_url": "https://api.github.com/repos/iphydf/spec/subscription",
            "svn_url": "https://github.com/iphydf/spec",
            "tags_url": "https://api.github.com/repos/iphydf/spec/tags",
            "teams_url": "https://api.github.com/repos/iphydf/spec/teams",
            "topics": [
                "protocol",
                "tox",
                "toxcore"
            ],
            "trees_url": "https://api.github.com/repos/iphydf/spec/git/trees{/sha}",
            "updated_at": "2022-01-28T13:59:49Z",
            "url": "https://api.github.com/repos/iphydf/spec",
            "visibility": "public",
            "watchers": 0,
            "watchers_count": 0,
            "web_commit_signoff_required": false
        },
        "sha": "3c15159b10c0a04212678e39243bda2cf4eab8d5",
        "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
            "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
            "followers_url": "https://api.github.com/users/iphydf/followers",
            "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
            "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/iphydf",
            "id": 10647936,
            "login": "iphydf",
            "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
            "organizations_url": "https://api.github.com/users/iphydf/orgs",
            "received_events_url": "https://api.github.com/users/iphydf/received_events",
            "repos_url": "https://api.github.com/users/iphydf/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/iphydf"
        }
    },
    "html_url": "https://github.com/TokTok/spec/pull/21",
    "id": 61277684,
    "issue_url": "https://api.github.com/repos/TokTok/spec/issues/21",
    "labels": [],
    "locked": false,
    "merge_commit_sha": "00bde21b9db9fb75d598de7c7cf67603dfb86a90",
    "merged_at": "2016-03-02T19:07:26Z",
    "milestone": null,
    "node_id": "MDExOlB1bGxSZXF1ZXN0NjEyNzc2ODQ=",
    "number": 21,
    "patch_url": "https://github.com/TokTok/spec/pull/21.patch",
    "requested_reviewers": [],
    "requested_teams": [],
    "review_comment_url": "https://api.github.com/repos/TokTok/spec/pulls/comments{/number}",
    "review_comments_url": "https://api.github.com/repos/TokTok/spec/pulls/21/comments",
    "state": "closed",
    "statuses_url": "https://api.github.com/repos/TokTok/spec/statuses/3c15159b10c0a04212678e39243bda2cf4eab8d5",
    "title": "Rewrote part of the DHT sections on packet formats.",
    "updated_at": "2016-03-03T13:37:33Z",
    "url": "https://api.github.com/repos/TokTok/spec/pulls/21",
    "user": {
        "avatar_url": "https://avatars.githubusercontent.com/u/10647936?v=4",
        "events_url": "https://api.github.com/users/iphydf/events{/privacy}",
        "followers_url": "https://api.github.com/users/iphydf/followers",
        "following_url": "https://api.github.com/users/iphydf/following{/other_user}",
        "gists_url": "https://api.github.com/users/iphydf/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/iphydf",
        "id": 10647936,
        "login": "iphydf",
        "node_id": "MDQ6VXNlcjEwNjQ3OTM2",
        "organizations_url": "https://api.github.com/users/iphydf/orgs",
        "received_events_url": "https://api.github.com/users/iphydf/received_events",
        "repos_url": "https://api.github.com/users/iphydf/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/iphydf/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/iphydf/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/iphydf"
    }
}